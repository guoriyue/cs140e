
4-fb.o:     file format elf32-littlearm


Disassembly of section .text:

00000000 <write_mailbox_x>:
#define MAILBOX_FULL   (1<<31)

static fb_config_t cp;

void write_mailbox_x(mailbox_t *mbox, unsigned channel) {
    while(mbox->status & MAILBOX_FULL)
   0:	e5903018 	ldr	r3, [r0, #24]
   4:	e3530000 	cmp	r3, #0, 0
   8:	aa000000 	bge	10 <write_mailbox_x+0x10>
   c:	eafffffe 	b	c <write_mailbox_x+0xc>
void write_mailbox_x(mailbox_t *mbox, unsigned channel) {
  10:	e92d4030 	push	{r4, r5, lr}
        ;
    cp.width = cp.virtual_width = 1280;
    cp.height = cp.virtual_height = 960;
    cp.depth = 32;
    cp.x_offset = cp.y_offset = 0;
  14:	e3a0c000 	mov	ip, #0, 0
    cp.width = cp.virtual_width = 1280;
  18:	e3a04c05 	mov	r4, #1280	; 0x500
  1c:	e3a05d0f 	mov	r5, #960	; 0x3c0
    cp.depth = 32;
  20:	e3a0e020 	mov	lr, #32, 0
    cp.width = cp.virtual_width = 1280;
  24:	e59f302c 	ldr	r3, [pc, #44]	; 58 <write_mailbox_x+0x58>
    cp.pointer = 0;

    mbox->write = ((unsigned)(&cp) | channel | 0x40000000);
  28:	e1832001 	orr	r2, r3, r1
  2c:	e3822101 	orr	r2, r2, #1073741824	; 0x40000000
    cp.width = cp.virtual_width = 1280;
  30:	e8830030 	stm	r3, {r4, r5}
  34:	e5834008 	str	r4, [r3, #8]
  38:	e583500c 	str	r5, [r3, #12]
    cp.pointer = 0;
  3c:	e583c020 	str	ip, [r3, #32]
    cp.depth = 32;
  40:	e583e014 	str	lr, [r3, #20]
    cp.x_offset = cp.y_offset = 0;
  44:	e583c01c 	str	ip, [r3, #28]
    mbox->write = ((unsigned)(&cp) | channel | 0x40000000);
  48:	e5802020 	str	r2, [r0, #32]
    cp.x_offset = cp.y_offset = 0;
  4c:	e583c018 	str	ip, [r3, #24]
}
  50:	e8bd4030 	pop	{r4, r5, lr}
  54:	e12fff1e 	bx	lr
  58:	00000000 	.word	0x00000000
